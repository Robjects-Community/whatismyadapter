# WillowCMS Portainer Stack Environment Variables
# This file provides default values that can be overridden in Portainer UI
# As documented at: https://docs.portainer.io/user/docker/stacks/add#environment-variables
#
# In Portainer:
# 1. These variables are loaded automatically from this file
# 2. You can override any value in the Portainer Environment Variables section
# 3. Individual variables set in Portainer UI take precedence over this file
# 4. Variables defined here are available using ${VARIABLE_NAME} in docker-compose.yml

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_NAME=WillowCMS
APP_ENV=production
DEBUG=false
APP_ENCODING=UTF-8
APP_DEFAULT_LOCALE=en_US
APP_DEFAULT_TIMEZONE=America/Chicago
APP_FULL_BASE_URL=https://your-domain.com

# Security - MUST be overridden in Portainer UI for production
SECURITY_SALT=changeme-generate-random-32-character-string

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
MYSQL_ROOT_PASSWORD=changeme-root-password
MYSQL_DATABASE=willow_cms
MYSQL_USER=willow_user
MYSQL_PASSWORD=changeme-user-password
MYSQL_IMAGE_TAG=8.0
MYSQL_PORT=3310
MYSQL_INNODB_LOG_FILE_SIZE=256M
MYSQL_INNODB_BUFFER_POOL_SIZE=256M

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_USERNAME=default
REDIS_PASSWORD=changeme-redis-password
REDIS_PORT=6379
REDIS_DATABASE=0
REDIS_TAG=7.2-alpine
REDIS_HEALTHCHECK_INTERVAL=10s
REDIS_HEALTHCHECK_TIMEOUT=3s
REDIS_HEALTHCHECK_RETRIES=5

# =============================================================================
# DOCKER & NETWORKING
# =============================================================================
PROJECT_NAME=willow
NETWORK_NAME=willow_network
VOLUME_DRIVER=local

# Service Names (as defined in compose file)
WILLOW_APP_SERVICE=willowcms
WILLOW_DB_SERVICE=mysql
WILLOW_REDIS_SERVICE=redis

# Port Mappings
WILLOW_HTTP_PORT=8080
WILLOW_HTTPS_PORT=8443
PMA_HTTP_PORT=8082
REDIS_COMMANDER_HTTP_PORT=8084
MAILPIT_SMTP_PORT=1125
MAILPIT_HTTP_PORT=8025

# Docker Build Arguments  
DOCKER_UID=1034
DOCKER_GID=100

# WillowCMS Image Configuration
WILLOWCMS_IMAGE=willowcms:main-clean-hardened

# Volume Configuration (supports both Docker-managed and host-mounted volumes)
# For Docker-managed volumes, use the volume name (default)
# For host-mounted volumes, use absolute paths like: /host/path:/container/path
# WILLOWCMS_CODE_PATH=/Users/mikey/Projects/willow:/var/www/html
# WILLOWCMS_LOGS_PATH=/Users/mikey/Projects/willow/logs:/var/www/html/logs
# WILLOWCMS_NGINX_LOGS_PATH=/Users/mikey/Projects/willow/nginx-logs:/var/log/nginx
# WILLOWCMS_STORAGE_PATH=/Users/mikey/Projects/willow/storage:/var/www/html/tmp

# =============================================================================
# GIT REPOSITORY CONFIGURATION (for Git-based deployments)
# =============================================================================
GIT_URL=https://github.com/garzarobm/willow.git
GIT_REF=main-clean

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
EMAIL_HOST=mailpit
EMAIL_PORT=1025
EMAIL_TIMEOUT=30
EMAIL_USERNAME=
EMAIL_PASSWORD=
EMAIL_REPLY=hello@willowcms.app
EMAIL_NOREPLY=noreply@willowcms.app

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================
WILLOW_ADMIN_USERNAME=admin
WILLOW_ADMIN_PASSWORD=changeme-admin-password
WILLOW_ADMIN_EMAIL=admin@your-domain.com

# =============================================================================
# EXTERNAL API KEYS (Override in Portainer UI)
# =============================================================================
OPENAI_API_KEY=
YOUTUBE_API_KEY=
TRANSLATE_API_KEY=

# =============================================================================
# PHPMYADMIN CONFIGURATION
# =============================================================================
PMA_HOST=mysql
PMA_USER=root
PMA_PASSWORD=changeme-root-password
PHPMYADMIN_IMAGE_TAG=latest
UPLOAD_LIMIT=300M

# =============================================================================
# MAILPIT CONFIGURATION
# =============================================================================
MP_MAX_MESSAGES=5000
MP_SMTP_AUTH_ACCEPT_ANY=1
MP_SMTP_AUTH_ALLOW_INSECURE=1
MAILPIT_IMAGE_TAG=latest

# =============================================================================
# REDIS COMMANDER CONFIGURATION
# =============================================================================
REDIS_COMMANDER_USERNAME=admin
REDIS_COMMANDER_PASSWORD=changeme-redis-commander
REDIS_COMMANDER_IMAGE_TAG=latest

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_DEBUG_PATH=/var/www/html/logs
LOG_ERROR_PATH=/var/www/html/logs
LOG_QUERIES_PATH=/var/www/html/logs
LOG_ADMIN_ACTIONS_PATH=/var/www/html/logs
LOG_DEBUG_FILE=debug
LOG_ERROR_FILE=error
LOG_QUERIES_FILE=queries
LOG_ADMIN_ACTIONS_FILE=bulk_actions
LOG_DEBUG_LEVELS=notice,info,debug
LOG_ERROR_LEVELS=warning,error,critical,alert,emergency

# =============================================================================
# FEATURE FLAGS
# =============================================================================
EXPERIMENTAL_TESTS=Off

# =============================================================================
# PORTAINER-SPECIFIC NOTES
# =============================================================================
# 1. Variables in this file provide defaults
# 2. Override sensitive variables (passwords, API keys) in Portainer UI
# 3. Use "Load variables from .env file" in Portainer to upload local overrides
# 4. Environment variables are available in compose file as ${VARIABLE_NAME}
# 5. Portainer automatically creates stack.env from UI-defined variables