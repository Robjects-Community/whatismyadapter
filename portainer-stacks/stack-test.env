# WillowCMS Portainer Test Stack Environment Variables
# =====================================================================
# This file contains TEST environment for local Portainer testing
# Copy content and paste into Portainer's "Load variables from .env file"
# =====================================================================

# APPLICATION CONFIGURATION
APP_NAME=WillowCMS-PortainerTest
APP_ENV=development
DEBUG=true
APP_ENCODING=UTF-8
APP_DEFAULT_LOCALE=en_US
APP_DEFAULT_TIMEZONE=America/Chicago
APP_FULL_BASE_URL=http://localhost:9080

# SECURITY - Use a secure random string in production
SECURITY_SALT=test-portainer-salt-change-in-production-32chars

# DATABASE CONFIGURATION
MYSQL_ROOT_PASSWORD=test_root_pass_123
MYSQL_DATABASE=willow_cms_test
MYSQL_USER=willow_test
MYSQL_PASSWORD=test_user_pass_123
MYSQL_IMAGE_TAG=8.0
MYSQL_PORT=9310
MYSQL_INNODB_LOG_FILE_SIZE=256M
MYSQL_INNODB_BUFFER_POOL_SIZE=256M

# REDIS CONFIGURATION
REDIS_USERNAME=default
REDIS_PASSWORD=test_redis_pass_123
REDIS_PORT=6379
REDIS_DATABASE=0
REDIS_TAG=7.2-alpine
REDIS_HEALTHCHECK_INTERVAL=10s
REDIS_HEALTHCHECK_TIMEOUT=3s
REDIS_HEALTHCHECK_RETRIES=5

# DOCKER & NETWORKING
PROJECT_NAME=willow-portainer-test
NETWORK_NAME=willow_portainer_network
VOLUME_DRIVER=local

# Service Names
WILLOW_APP_SERVICE=willowcms
WILLOW_DB_SERVICE=mysql
WILLOW_REDIS_SERVICE=redis

# PORT MAPPINGS (Different from dev to avoid conflicts)
WILLOW_HTTP_PORT=9080
PMA_HTTP_PORT=9082
REDIS_COMMANDER_HTTP_PORT=9084
MAILPIT_SMTP_PORT=9125
MAILPIT_HTTP_PORT=9025

# DOCKER BUILD ARGUMENTS (Use your Mac user UID:GID)
DOCKER_UID=501
DOCKER_GID=20

# WILLOWCMS IMAGE
WILLOWCMS_IMAGE=willowcms:portainer-test

# GIT REPOSITORY (for building from source)
GIT_URL=https://github.com/garzarobm/willow.git
GIT_REF=main-clean

# EMAIL CONFIGURATION
EMAIL_HOST=mailpit
EMAIL_PORT=1025
EMAIL_TIMEOUT=30
EMAIL_USERNAME=
EMAIL_PASSWORD=
EMAIL_REPLY=hello@willowcms.app
EMAIL_NOREPLY=noreply@willowcms.app

# ADMIN CONFIGURATION
WILLOW_ADMIN_USERNAME=admin
WILLOW_ADMIN_PASSWORD=test_admin_123
WILLOW_ADMIN_EMAIL=admin@test.local

# EXTERNAL API KEYS (Leave empty for testing)
OPENAI_API_KEY=
YOUTUBE_API_KEY=
TRANSLATE_API_KEY=

# PHPMYADMIN CONFIGURATION
PMA_HOST=mysql
PMA_USER=root
PHPMYADMIN_IMAGE_TAG=latest
UPLOAD_LIMIT=300M

# MAILPIT CONFIGURATION
MP_MAX_MESSAGES=5000
MP_SMTP_AUTH_ACCEPT_ANY=1
MP_SMTP_AUTH_ALLOW_INSECURE=1
MAILPIT_IMAGE_TAG=latest

# REDIS COMMANDER CONFIGURATION
REDIS_COMMANDER_USERNAME=admin
REDIS_COMMANDER_PASSWORD=test_commander_123
REDIS_COMMANDER_IMAGE_TAG=latest

# LOGGING CONFIGURATION
LOG_DEBUG_PATH=/var/www/html/logs
LOG_ERROR_PATH=/var/www/html/logs
LOG_QUERIES_PATH=/var/www/html/logs
LOG_ADMIN_ACTIONS_PATH=/var/www/html/logs
LOG_DEBUG_FILE=debug
LOG_ERROR_FILE=error
LOG_QUERIES_FILE=queries
LOG_ADMIN_ACTIONS_FILE=bulk_actions
LOG_DEBUG_LEVELS=notice,info,debug
LOG_ERROR_LEVELS=warning,error,critical,alert,emergency

# FEATURE FLAGS
EXPERIMENTAL_TESTS=On
