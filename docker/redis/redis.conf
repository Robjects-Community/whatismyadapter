# Redis configuration for WillowCMS
# Minimal, secure defaults with no hardcoded secrets
# Secrets and environment-specific settings are provided via bootguard.sh

# Network and security
bind 0.0.0.0
protected-mode yes
port 6379

# Data persistence
dir /data
save 900 1
save 300 10
save 60 10000
appendonly yes
appendfsync everysec

# Performance
maxmemory-policy allkeys-lru
tcp-keepalive 300
timeout 0

# Logging
loglevel notice
logfile ""

# Security notes:
# - requirepass is set dynamically by bootguard.sh from REDIS_PASSWORD env var
# - Additional save intervals can be overridden via REDIS_SAVE env var
# - appendonly can be controlled via REDIS_APPENDONLY env var